<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="_csrf" th:content="${_csrf.token}" />
<!-- default header name is X-CSRF-TOKEN -->
<meta name="_csrf_header" th:content="${_csrf.headerName}" />
<title>DAIAD</title>

<!-- Bootstrap -->
<link href="libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<link href="libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css"
	rel="stylesheet" />
<link href="libs/dc/dc.css" rel="stylesheet" />
<link href="css/site.css" rel="stylesheet" />
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<script sec:authorize="hasRole('ROLE_SUPERUSER')">
		var logged = true;
	</script>
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div style="margin-left: 40px; margin-right: 35px;">
				<div class="navbar-header" style="margin-top: -15px;">
					<button type="button" class="navbar-toggle collapsed"
						data-toggle="collapse" data-target="#navbar" aria-expanded="false"
						aria-controls="navbar">
						<span class="sr-only">Toggle navigation</span> <span
							class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#"><img alt="DAIAD"
						src="images/daiad-transparent.png" /></a>
				</div>
				<div id="navbar" class="navbar-collapse collapse">
					<p class="navbar-text navbar-right"
						style="margin: 10px 0 0; display: none;" id="logout-section">
						<button id="logout" type="submit"
							class="btn btn-primary action-logout">Sign out</button>
					</p>
					<p id="label-meter-value" class="navbar-text navbar-right"
						style="display: none; padding-right: 15px; margin: 10px 0px 0px 7px;">
						<img src="images/ajax-loader.gif" style="padding-top: 12px;" />
					</p>
					<p id="label-meter-image" class="navbar-text navbar-right"
						style="display: none; padding-right: 0px; margin: 3px 0 0 0 !important;">
						<img src="images/Speed-50.png" />
					</p>
					<p id="label-username" class="navbar-text navbar-right"
						style="display: none; padding-right: 15px; margin-top: 18px;">
						Signed in as <a href="#" class="navbar-link" th:text="${username}"></a>
					</p>

					<form class="navbar-form navbar-right form-login"
						style="margin-top: 10px;" th:action="@{/login}">
						<div class="form-group">
							<input id="email" name="email" type="text" placeholder="Email"
								class="form-control" />
						</div>
						<div class="form-group">
							<input id="password" name="password" type="password"
								placeholder="Password" class="form-control" />
						</div>
						<button type="submit" class="btn btn-primary action-login">Sign
							in</button>
					</form>
				</div>
			</div>
		</div>
	</nav>
	<div role="page" id="page-main" style="display: none;">
		<div class="jumbotron">
			<div class="container" style="text-align: justify;">
				<h2>Open Water Management - from droplets of participation to
					streams of knowledge</h2>
				<p>It's time to change the way we monitor water. In DAIAD we
					believe that in order to drive innovation, accelerate the adoption
					of efficient water use and reuse, and induce sustainable changes in
					water consumption at a larger scale, we must empower consumers. Our
					vision is to enable all consumers to self-monitor their water
					consumption through low-cost sensing technologies, independently
					from their water provider, to monitor every drop of water we
					consume in our residencies, turn this information into actionable
					knowledge, and promote sustainable water consumption. But how are
					we going to achieve this?</p>
				<p>
					<a class="btn btn-primary btn-lg" href="http://daiad.eu"
						role="button">Learn more &raquo;</a>
				</p>
			</div>
		</div>

		<div class="container" style="text-align: center;">
			<!-- Example row of columns -->
			<div class="row">
				<div class="col-md-4">
					<h2>@Home</h2>

					<p>
						<img alt="" src="images/Plumbing-100.png" />
					</p>
					<p>
						<a class="btn btn-default" href="http://daiad.eu/?page_id=2002"
							role="button">View details &raquo;</a>
					</p>
				</div>
				<div class="col-md-4">
					<h2>@Commons</h2>
					<p>
						<img alt="" src="images/Collaboration-100.png" />
					</p>
					<p>
						<a class="btn btn-default" href="http://daiad.eu/?page_id=2002"
							role="button">View details &raquo;</a>
					</p>
				</div>
				<div class="col-md-4">
					<h2>@Utility</h2>
					<p>
						<img alt="" src="images/Area Chart-100.png" />
					</p>
					<p>
						<a class="btn btn-default" href="http://daiad.eu/?page_id=2002"
							role="button">View details &raquo;</a>
					</p>
				</div>
			</div>
			<hr />
			<footer>
				<div class="container">
					<p>&copy;DAIAD 2015</p>
				</div>
			</footer>
		</div>
	</div>

	<div role="page" id="page-home" style="display: none;">
		<div class="container" style="text-align: center; padding-top: 70px;">
			<ul class="nav nav-tabs" role="tablist" id="tabs"
				style="margin-left: 40px; margin-right: 35px;">
				<li role="presentation" class="active"><a href="#home"
					aria-controls="home" role="tab" data-toggle="tab">Home</a></li>
				<li role="presentation"><a href="#calendar"
					aria-controls="calendar" role="tab" data-toggle="tab">Calendar</a></li>
				<li role="presentation"><a href="#analysis"
					aria-controls="analysis" role="tab" data-toggle="tab">Analysis</a></li>
				<li id="ajax-loader-image"
					style="float: right; padding-top: 15px; display: none;"><img
					src="images/ajax-loader.gif" /></li>
			</ul>

			<div class="tab-content">
				<div role="tabpanel" class="tab-pane active" id="home"
					style="padding-top: 10px;">
					<div class="clearfix"
						style="padding-bottom: 25px; text-align: left; padding-left: 40px;">
						<div style="width: 250px; float: left;">
							<label for="chart-interval1">Interval</label>
							<div>
								<div class="input-group date" style="width: 230px;">
									<input id="chart-interval1" type="text"
										class="form-control chart-interval" /><span
										class="input-group-addon"><i
										class="glyphicon glyphicon-th"></i></span>
								</div>
							</div>
						</div>
						<div style="width: 200px; float: left;">
							<label for="budget-editor">Budget</label>
							<div class="input-group">
								<input id="budget-editor" type="text" class="form-control"
									value="1000" aria-label="Monthly water consumption budget"
									style="text-align: right;" /> <span class="input-group-addon">Liters</span>
							</div>
						</div>
					</div>
					<div id="all-graphs-empty"
						style="padding-top: 15px; display: none;">
						<span class="label label-warning"
							style="font-size: 1.1em !important;">No available data for
							the selected interval</span>
					</div>
					<div class="clearfix" id="all-graphs" style="display: none;">
						<div class="clearfix"
							style="padding-bottom: 40px; padding-left: 31px;">
							<div id="day-of-week-chart"
								style="width: 34%; height: 250px; padding-right: 10px;">
								<strong>Day of Week Average Consumption</strong>

								<div class="clearfix"></div>
							</div>
							<div id="monthly-budget" style="width: 25%; height: 250px;">
								<strong>Monthly Budget Consumed</strong>

								<div class="clearfix"></div>
							</div>
							<div style="width: 40%; height: 250px; float: right;">
								<strong>Last Shower Data</strong>
								<div id="shower-not-found"
									style="padding-top: 15px; display: none;">
									<span class="label label-warning"
										style="font-size: 1.1em !important;">No recent shower
										data found</span>
								</div>
								<div id="shower-data" style="display: none; padding-top: 25px;">
									<table class="shower">
										<tr>
											<td class="image"><img src="images/Calendar-50.png"
												alt="" /></td>
											<td id="shower-date"></td>
											<td class="image"><img src="images/Water-50.png" alt="" /></td>
											<td id="shower-volume" style="white-space: nowrap;"></td>
											<td class="image"><img src="images/Electricity-50.png"
												alt="" /></td>
											<td id="shower-energy" style="white-space: nowrap;"></td>
										</tr>
										<tr>
											<td class="image"><img src="images/Clock-50.png" alt="" /></td>
											<td id="shower-duration"></td>
											<td class="image"><img src="images/Temperature-50.png"
												alt="" /></td>
											<td id="shower-temperature" style="white-space: nowrap;"></td>
											<td class="image"><img
												src="images/Sales Performance-50.png" alt="" /></td>
											<td id="shower-cost" style="white-space: nowrap;"></td>
										</tr>
									</table>
									<div id="shower-advice"
										style="padding-top: 20px; display: none;">
										<span class="label" style="font-size: 1.2em !important;"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="clearfix">
							<div style="margin-left: 40px; padding-bottom: 5px;">
								<ul class="nav nav-pills">
									<li role="presentation" class="active"><a
										class="chart-selector" data-chart="1" href="#">Total Daily
											Consumption</a></li>
									<li role="presentation"><a class="chart-selector"
										data-chart="2" href="#">Average Daily Consumption per
											Shower</a></li>
									<li role="presentation"><a class="chart-selector"
										data-chart="3" href="#">Total Showers per Day</a></li>
								</ul>
							</div>
							<div id="daily-chart" style="width: 100%; height: 400px;">
								<div class="clearfix"></div>
							</div>
						</div>
					</div>
				</div>
				<div role="tabpanel" class="tab-pane" id="calendar"
					style="padding-top: 10px;">
					<div class="clearfix"
						style="padding-bottom: 25px; text-align: left; padding-left: 40px;">
						<div style="width: 250px; float: left;">
							<label for="chart-interval2">Interval</label>
							<div>
								<div class="input-group date" style="width: 230px;">
									<input id="chart-interval2" type="text"
										class="form-control chart-interval" /><span
										class="input-group-addon"><i
										class="glyphicon glyphicon-th"></i></span>
								</div>
							</div>
						</div>
					</div>
					<div class="clearfix" id="shower-table"
						style="display: none; margin-left: 40px; margin-right: 35px;">
						<table id="shower-history" class="table table-hover">
							<tr>
								<th style="text-align: center;">Date</th>
								<th style="text-align: center;">Duration</th>
								<th style="text-align: center;">Volume</th>
								<th style="text-align: center;">Energy</th>
								<th style="text-align: center;">Avg. Temperature</th>
								<th style="text-align: center;">Est. Cost</th>
								<th style="text-align: center;"></th>
							</tr>
						</table>
					</div>
					<div class="clearfix" id="shower-table-empty"
						style="display: none; margin-top: 40px;">
						<span class="label label-warning"
							style="font-size: 1.1em !important;">No recent shower data
							found</span>
					</div>
				</div>
				<div role="tabpanel" class="tab-pane" id="analysis"
					style="padding-top: 10px;">
					<div class="clearfix"
						style="padding-bottom: 25px; text-align: left; padding-left: 40px;">
						<div style="width: 250px; float: left;">
							<label for="chart-interval3">Interval</label>
							<div>
								<div class="input-group date" style="width: 230px;">
									<input id="chart-interval3" type="text"
										class="form-control chart-interval" /><span
										class="input-group-addon"><i
										class="glyphicon glyphicon-th"></i></span>
								</div>
							</div>
						</div>
					</div>
					<div class="container" style="margin-top: 20px;">
						<div class="row" style="padding-left: 25px; padding-right: 50px;">
							<div class="col-md-2">
								<div class="panel panel-default">
									<div class="panel-heading">Smart Meter</div>
									<div class="panel-body">
										<img src="images/Electrical Sensor-50.png" />
										<p>Reference Id</p>
										<p>
											<b>C11FA585461</b>
										</p>
									</div>
								</div>

								<div class="panel panel-default">
									<div class="panel-heading">Mobile App</div>
									<div class="panel-body">
										<img src="images/Multiple Devices-50.png" />
										<p>Device</p>
										<p>
											<b>Amphiro 1</b>
										</p>
									</div>
								</div>
							</div>
							<div class="col-md-10">
								<div style="width: 100%; height: 400px;"
									id="swm-shower-combined"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="container"
			style="padding: 0px 50px 0px 55px; text-align: center;">

			<hr />
			<footer>
				<div class="container" style="padding: 0px 30px 0px 0px;">
					<p>&copy;DAIAD 2015</p>
				</div>
			</footer>
		</div>

	</div>

	<div class="modal fade" id="authFailedModal" tabindex="-1"
		role="dialog" aria-labelledby="authFailedModalLabel"
		aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="authFailedModalLabel">
						<img alt="DAIAD" src="images/daiad-transparent.png" />
					</h4>
				</div>
				<div class="modal-body">Authentication has failed. Please try
					again.</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="chartDetailsModal" tabindex="-1"
		role="dialog" aria-labelledby="chartDetailsLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="chartDetailsLabel">
						<img alt="DAIAD" src="images/daiad-transparent.png" />
					</h4>
				</div>
				<div class="modal-body">
					<div class="clearfix" style="padding-bottom: 20px;">
						<div class="clearfix"
							style="padding-bottom: 10px; text-align: center;">
							<table class="shower"
								style="margin-left: auto; margin-right: auto;">
								<tr>
									<td class="image"><img src="images/Calendar-50.png" alt="" /></td>
									<td id="shower-detail-date"></td>
									<td class="image"><img src="images/Water-50.png" alt="" /></td>
									<td id="shower-detail-volume" style="white-space: nowrap;"></td>
									<td class="image"><img src="images/Electricity-50.png"
										alt="" /></td>
									<td id="shower-detail-energy" style="white-space: nowrap;"></td>
								</tr>
								<tr>
									<td class="image"><img src="images/Clock-50.png" alt="" /></td>
									<td id="shower-detail-duration"></td>
									<td class="image"><img src="images/Temperature-50.png"
										alt="" /></td>
									<td id="shower-detail-temperature" style="white-space: nowrap;"></td>
									<td class="image"><img
										src="images/Sales Performance-50.png" alt="" /></td>
									<td id="shower-detail-cost" style="white-space: nowrap;"></td>
								</tr>
							</table>
						</div>
						<div id="shower-detail-advice"
							style="padding: 10px; display: none; text-align: center;">
							<span class="label" style="font-size: 1.2em !important;"></span>
						</div>
						<div id="shower-details"
							style="width: 100%; height: 250px; padding-top: 10px;">


							<div class="clearfix"></div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<div style="display: none;">
		<form id="logout-form" th:action="@{/logout}" method="post">
			<input id="logout" type="submit" value="Sign Out" />
		</form>
	</div>

	<script src="libs/jquery/jquery-2.1.3.min.js"></script>
	<script src="libs/bootstrap/js/bootstrap.min.js"></script>
	<script src="libs/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
	<script src="libs/d3/d3.js"></script>
	<script src="libs/crossfilter/crossfilter.min.js"></script>
	<script src="libs/dc/dc.js"></script>

	<script src="js/main.js"></script>
</body>
</html>